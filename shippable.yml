# Language setting
language: node_js

# Version number
node_js:
  - 0.12

env:
  - FOO=FUBU
  - secure: ZOFihJACYvA8eauL8WblDAImCoolpVPoShS4UjdwpCbTlvjCDDU8h/BHYcjMvGVgtNBh1z/iJJrkYjEU26JKUU1nPAiFzwER7Frclp5OGmIFrvie5Knd90hOqw6gPjxa+FMVQ2zZ3sG6lnxORi+V1it5kH5B/Tqu9nSr0tG/sTiV45EWg4kMBdb7amq14pPfVHbjINBQDE49/0PD0TdgYDYKrz/5AXNeSThpbEk/9VItLyj4cPNrxH7wYIY1QvhPKeDF1lavZLE+Kvok00KHKm5aZwx+izSPgWyMIvFV0JpnFme6tLFUdp1PWPnOsLoOVwyFmj6C+LvYCXddfVrbFQ==

 # matrix:
  #  - M1=ONE

build:
  #pre_ci:
 #   - docker build -t=shippabledocker/shiphitchcock1_sample_node .

  pre_ci_boot:
    image_name: shippabledocker/shiphitchcock1_sample_node
    image_tag: latest
    pull: true
    options: '--privileged=true --net=bridge -e FOO=true -e BOO=false'

  ci:
    - ps -eax
    - ls -al
    - echo "$GIT"
    
  post_ci:
    - docker build -t=shippabledocker/shiphitchcock1_sample_node .
    - docker push shippabledocker/shiphitchcock1_sample_node

integrations:
  hub:
    - integrationName: ship-docker
      type: docker
